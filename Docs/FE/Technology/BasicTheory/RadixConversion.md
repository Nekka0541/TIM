# 基数変換
> 分数、少数パターンも含む


- [基数変換](#基数変換)
  - [基数と重み](#基数と重み)
    - [基数](#基数)
    - [重み](#重み)
      - [重み対応表](#重み対応表)
  - [n進数から10進数への基数変換](#n進数から10進数への基数変換)
  - [10進数からn進数への基数変換](#10進数からn進数への基数変換)
    - [重み対応表を使う方法](#重み対応表を使う方法)
    - [割り算と掛け算をつかう方法](#割り算と掛け算をつかう方法)
  - [2進数と8,16進数との関係](#2進数と816進数との関係)
  - [問題集](#問題集)


## 基数と重み

> n進数から10進数、10進数からn進数に変換する基数変換はこの2つの値を使う


### 基数
- 2進数なら2、8進数なら8、10進数なら10のようにn進数の「n」に当たる数字
  
### 重み
- 10進数なら10のように桁上がりする値のこと
- n進数が持つ各桁の重みは次の表のようになる

#### 重み対応表
| 3桁目  | 2桁目  | 1桁目  | 小数点 | 1桁目   | 2桁目   | 3桁目   |
| :----- | :----- | :----- | :----- | :------ | :------ | :------ |
| nの3乗 | nの2乗 | nの0乗 | .      | nの-1乗 | nの-2乗 | nの-3乗 |

## n進数から10進数への基数変換
- 各桁にn進数の重みを掛けて足すことで求められる。
> 例　2進 101.101を10進数へ変換

$$
\begin{align}
&(1\times4) + (0\times2) + (1\times1) + (1\times\frac{1}{2}) + (0\times\frac{1}{4}) + (1\times\frac{1}{8})\\
&=4+0+1+0.5+0+0.125\\
&=5.625
\end{align}$$

> ※分数から小数への変換

$$
\begin{align}
&1\div2 = 0.5 = \frac{1}{2}\\
&0.5\div2 = 0.25 = \frac{1}{4}\\
&0.25\div2 = 0.125 = \frac{1}{8}\\
\end{align}
$$

## 10進数からn進数への基数変換
### 重み対応表を使う方法
先述の[重み対応表](#重み対応表)を利用する

> 10進数5.625を２進数に変換する

- 2進数の重み表

| 3桁目 | 2桁目 | 1桁目 | 小数点 | 1桁目 | 2桁目 | 3桁目 |
| :---- | :---- | :---- | :----- | :---- | :---- | :---- |
| 4     | 2     | 1     | .      | 1/2   | 1/4   | 1/8   |

- まず大きい重みから2進数の1か0かを入れるべきか考える
- ３桁目の重みは4>5.625なので、重み４には1
- ２桁目の重みは2である。4+2=6>5.625なので重み2は0
- 1桁目の重みは１である。4+1=5<5.625なので重み1は1を入れる。
- これを繰り返して、以下の通りとなる

| 3桁目 | 2桁目 | 1桁目 | 小数点 | 1桁目 | 2桁目 | 3桁目 |
| :---- | :---- | :---- | :----- | :---- | :---- | :---- |
| 4     | 2     | 1     | .      | 1/2   | 1/4   | 1/8   |
| 1     | 0     | 1     | .      | 1     | 0     | 1     |

一番下の行が２進数の値になる。

### 割り算と掛け算をつかう方法
> 10進数6.375を2進数に変換する
- まず、整数部と小数部で分けて考える
- 10進数の数値の整数部を２進数で表現するには、２で割った余りを下から並べればできる。

$$
\begin{align}
&6\div2=3\\
&※商を引き継いでいく\\
&3\div2=1\\
&1\div2=0\\
&※商が0になったら終了\\
余りを下から並べて[110]となる
\end{align}$$

- 小数部は2を掛けて、その積の整数部を順に並べる
$$
\begin{align}
&0.375\times2=0.75\\
&※積の小数部のみを引き継いでいく\\
&0.75\times2=1.5\\
&0.5\times2=1.0\\
&※積の小数部が0になったら終了\\
積の整数部を上から順に並べて[011]となる
\end{align}$$

どちらも合わせて110.011

## 2進数と8,16進数との関係
2進数から8,16進数への奇数返還は簡単に行うことができる。
- 小数点を基準に2進数3桁は8進数1桁で、2進数4桁は16進数1桁で表現する。
  - 例えば2進[1100.01]を8進数で表現すると14.2である。次で説明
- 小数点を基準に3桁ずつ区切って（3桁にならない場合は0を補う）、3桁ずつを8進数で表現する。
- 小数点を基準に4桁ずつ区切って（4桁にならない場合は0を補う）、4桁ずつを16進数で表現する。

- 2進数→8進数

| 内容          |     |     |     |     |     |     |     |     |     |     |
| :------------ | :-- | :-- | :-- | :-- | :-- | :-- | --- | --- | --- | --- |
| 2進数         |     |     | 1   | 1   | 0   | 0   | .   | 0   | 1   |     |
| 3桁ずつ区切る | 0   | 0   | 1   | 1   | 0   | 0   | .   | 0   | 1   | 0   |
| 2進数の重み   | 4   | 2   | 1   | 4   | 2   | 1   | .   | 4   | 2   | 1   |
| 掛けて足す    | 0   | 0   | 1   | 4   | 0   | 0   | .   | 0   | 2   | 0   |
| 8進数         | 1   |     |     | 4   |     |     | .   | 2   |     |     |

- 2進数→16進数

| 内容          |     |     |     |     |     |     |     |     |     |
| :------------ | :-- | :-- | :-- | :-- | :-- | :-- | --- | --- | --- |
| 2進数         | 1   | 1   | 0   | 0   | .   | 0   | 1   |     |     |
| 4桁ずつ区切る | 1   | 1   | 0   | 0   | .   | 0   | 1   | 0   | 0   | 0
| 2進数の重み   | 8   | 4   | 2   | 1   | .   | 8   | 4   | 2   | 1   | 1
| 掛けて足す    | 8   | 4   | 0   | 0   | .   | 0   | 4   | 0   | 0   | 0
| 16進数        | C   |     |     |     | .   | 4   |     |     |     |
> 16進なので、12ではなくCとなる

## 問題集
- [問題サイト](https://prau-ict.com/digitalize/radix-conversion-exercise/)
